<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>A Special Moment</title>

<script src="https://cdn.jsdelivr.net/npm/emailjs-com@3/dist/email.min.js"></script>

<style>
body{
margin:0;
overflow:hidden;
font-family:Georgia,serif;
background:black;
color:gold;
text-align:center;
}

/* GOLD PARTICLES */
canvas{
position:fixed;
top:0;
left:0;
z-index:-1;
}

/* Pages */
.page{
display:none;
padding:60px 20px;
animation:fade 1.2s ease;
}

.page.active{
display:block;
}

@keyframes fade{
from{opacity:0;transform:translateY(50px);}
to{opacity:1;transform:translateY(0);}
}

button{
padding:14px 32px;
border:none;
border-radius:40px;
background:gold;
color:black;
font-size:16px;
cursor:pointer;
margin-top:25px;
font-weight:bold;
transition:0.3s;
}

button:hover{
transform:scale(1.1);
box-shadow:0 0 20px gold;
}

/* Ring popup */
.ringBox{
position:fixed;
bottom:-500px;
left:50%;
transform:translateX(-50%);
background:#111;
padding:45px;
border-radius:25px;
box-shadow:0 0 60px gold;
transition:1.2s;
border:1px solid gold;
}

.ringBox.show{
bottom:120px;
}

.ring{
font-size:85px;
animation:pulse 1.3s infinite;
}

@keyframes pulse{
0%{transform:scale(1)}
50%{transform:scale(1.2)}
100%{transform:scale(1)}
}

/* Firework */
.fire{
position:absolute;
width:6px;
height:6px;
border-radius:50%;
animation:explode 1.2s linear forwards;
}

@keyframes explode{
from{transform:translate(0,0);}
to{transform:translate(var(--x),var(--y));opacity:0;}
}

/* Countdown style */
#countdown{
font-size:90px;
animation:beat 1s infinite;
}

@keyframes beat{
0%{transform:scale(1)}
50%{transform:scale(1.3)}
100%{transform:scale(1)}
}
</style>
</head>

<body>

<canvas id="bg"></canvas>

<div class="page active">
<h1 id="intro"></h1>
<button onclick="nextPage()">Start</button>
</div>

<div class="page">
<h1>You came into my life quietly‚Ä¶</h1>
<button onclick="nextPage()">Next</button>
</div>

<div class="page">
<h1>And everything slowly felt different.</h1>
<button onclick="nextPage()">Next</button>
</div>

<div class="page">
<h1>You changed something in me I never knew existed...</h1>
<button onclick="nextPage()">Next</button>
</div>

<div class="page">
<h1>Before I ask something important‚Ä¶</h1>
<textarea id="herMessage" placeholder="Write something..." style="width:80%;padding:12px;border-radius:10px;border:none;"></textarea>
<br>
<button onclick="startCountdown()">Continue</button>
</div>

<div class="page" id="countPage">
<h1>Get Ready...</h1>
<h1 id="countdown">3</h1>
</div>

<div class="ringBox" id="ringBox">
<div class="ring">üíç</div>
<h1>Will You Be Mine?</h1>
<button onclick="choose('YES ‚ù§Ô∏è')">Yes</button>
<button onclick="choose('NO üíî')">No</button>
</div>

<script>

/* EMAILJS */
emailjs.init("ZBpSMBnfdEQE_bwCn");

/* PAGE CONTROL */
let current=0;
function nextPage(){
let pages=document.querySelectorAll(".page");
pages[current].classList.remove("active");
current++;
pages[current].classList.add("active");
}

/* INTRO TYPE */
let text="Some moments change life forever...";
let i=0;
function type(){
if(i<text.length){
document.getElementById("intro").innerHTML+=text.charAt(i);
i++;
setTimeout(type,40);
}
}
type();

/* COUNTDOWN */
function startCountdown(){
nextPage();
let count=3;
let cd=document.getElementById("countdown");
let interval=setInterval(()=>{
count--;
cd.innerHTML=count;
if(count==0){
clearInterval(interval);
document.getElementById("ringBox").classList.add("show");
}
},1000);
}

/* CHOOSE */
function choose(answer){

let msg=document.getElementById("herMessage").value;

emailjs.send("service_vi8o9j4","template_1uului7",{
message:"Answer: "+answer+" | Message: "+msg
});

if(answer.includes("YES")){
for(let i=0;i<200;i++){
let f=document.createElement("div");
f.className="fire";
f.style.left="50%";
f.style.top="50%";
f.style.background="gold";
f.style.setProperty('--x',(Math.random()*900-450)+"px");
f.style.setProperty('--y',(Math.random()*900-450)+"px");
document.body.appendChild(f);
}
setTimeout(()=>{
document.body.innerHTML="<h1 style='margin-top:40vh;font-size:40px;color:gold;'>A Beautiful Beginning ‚ú®</h1>";
},1700);
}else{
setTimeout(()=>{
document.body.innerHTML="<h1 style='margin-top:40vh;'>No matter what, you are special üíõ</h1>";
},1200);
}
}

/* GOLD PARTICLES */
let canvas=document.getElementById("bg");
let ctx=canvas.getContext("2d");
canvas.width=window.innerWidth;
canvas.height=window.innerHeight;

let p=[];
for(let i=0;i<120;i++){
p.push({
x:Math.random()*canvas.width,
y:Math.random()*canvas.height,
r:Math.random()*2,
s:Math.random()*1
});
}

function animate(){
ctx.clearRect(0,0,canvas.width,canvas.height);
ctx.fillStyle="gold";
p.forEach(a=>{
ctx.beginPath();
ctx.arc(a.x,a.y,a.r,0,Math.PI*2);
ctx.fill();
a.y+=a.s;
if(a.y>canvas.height)a.y=0;
});
requestAnimationFrame(animate);
}
animate();

</script>

</body>
  </html>
