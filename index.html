<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>A Special Moment</title>

<script src="https://cdn.jsdelivr.net/npm/emailjs-com@3/dist/email.min.js"></script>

<style>
body{
margin:0;
overflow:hidden;
font-family:Georgia,serif;
background:black;
color:gold;
text-align:center;
}

/* ===== MUSIC ===== */
audio{
display:none;
}

/* ===== PASSWORD ===== */
#lockScreen{
position:fixed;
top:0;
left:0;
width:100%;
height:100%;
background:black;
display:flex;
justify-content:center;
align-items:center;
z-index:999;
}

.lockBox{
background:#111;
padding:40px;
border-radius:20px;
box-shadow:0 0 30px gold;
border:1px solid gold;
}

/* ===== PAGES ===== */
.page{
display:none;
padding:60px 20px;
animation:fade 1.2s ease;
}

.page.active{
display:block;
}

@keyframes fade{
from{opacity:0;transform:scale(0.9)}
to{opacity:1;transform:scale(1)}
}

/* ===== BUTTON ===== */
button{
padding:14px 32px;
border:none;
border-radius:40px;
background:gold;
color:black;
font-weight:bold;
cursor:pointer;
margin-top:20px;
}

/* ===== HEARTBEAT ===== */
.heartbeat{
animation:beat 1s infinite;
}

@keyframes beat{
0%{transform:scale(1)}
50%{transform:scale(1.2)}
100%{transform:scale(1)}
}

/* ===== 3D RING ===== */
.ringBox{
position:fixed;
top:50%;
left:50%;
transform:translate(-50%,-50%) scale(0);
transition:1s;
background:#111;
padding:50px;
border-radius:25px;
box-shadow:0 0 60px gold;
border:1px solid gold;
}

.ringBox.show{
transform:translate(-50%,-50%) scale(1);
}

.ring{
font-size:90px;
animation:spin3d 4s linear infinite;
filter:drop-shadow(0 0 20px gold);
}

@keyframes spin3d{
from{transform:rotateY(0)}
to{transform:rotateY(360deg)}
}

/* ===== SPARK TRAIL ===== */
.spark{
position:fixed;
width:6px;
height:6px;
background:gold;
border-radius:50%;
pointer-events:none;
animation:sparkFade 1s forwards;
}

@keyframes sparkFade{
to{opacity:0;transform:scale(0)}
}

/* ===== FIREWORK ===== */
.fire{
position:absolute;
width:6px;
height:6px;
border-radius:50%;
animation:explode 1.3s linear forwards;
}

@keyframes explode{
to{transform:translate(var(--x),var(--y));opacity:0;}
}

/* ===== CREDITS ===== */
.credits{
position:fixed;
bottom:-100%;
width:100%;
text-align:center;
font-size:28px;
animation:credits 8s linear forwards;
}

@keyframes credits{
to{bottom:120%}
}
</style>
</head>

<body>

<audio id="music" autoplay loop>
<source src="music.mp3" type="audio/mpeg">
</audio>

<!-- PASSWORD -->
<div id="lockScreen">
<div class="lockBox">
<h2>Enter Password</h2>
<input type="password" id="passInput">
<br>
<button onclick="unlock()">Unlock</button>
<p id="error" style="color:red"></p>
</div>
</div>

<div class="page active">
<h1 id="intro"></h1>
<button onclick="nextPage()">Begin</button>
</div>

<div class="page">
<h1>You came quietly‚Ä¶</h1>
<button onclick="nextPage()">Next</button>
</div>

<div class="page">
<h1>But changed everything.</h1>
<button onclick="nextPage()">Next</button>
</div>

<div class="page">
<h1 class="heartbeat">My heart feels different now‚Ä¶</h1>
<button onclick="nextPage()">Next</button>
</div>

<div class="page">
<textarea id="msg" placeholder="Write something..." style="padding:12px;border-radius:10px;width:80%"></textarea>
<br>
<button onclick="showRing()">Continue</button>
</div>

<!-- RING -->
<div class="ringBox" id="ringBox">
<div class="ring">üíç</div>
<h1>Will You Be Mine?</h1>
<button onclick="choose('YES ‚ù§Ô∏è')">Yes</button>
<button onclick="choose('NO üíî')">No</button>
</div>

<script>

/* PASSWORD */
function unlock(){
if(passInput.value==="1234"){
lockScreen.style.display="none";
}else{
error.innerText="Wrong password";
}
}

/* EMAILJS */
emailjs.init("ZBpSMBnfdEQE_bwCn");

/* PAGES */
let pages=document.querySelectorAll(".page");
let current=0;
function nextPage(){
pages[current].classList.remove("active");
current++;
pages[current].classList.add("active");
}

/* INTRO */
let t="Some moments change life forever...";
let i=0;
function type(){
if(i<t.length){
intro.innerHTML+=t[i++];
setTimeout(type,40);
}}
type();

/* SHOW RING */
function showRing(){
ringBox.classList.add("show");
}

/* RESULT */
function choose(ans){

emailjs.send("service_vi8o9j4","template_1uului7",{
message:ans+" | "+msg.value
});

if(ans.includes("YES")){
fireworks();
setTimeout(()=>{
document.body.innerHTML="<div class='credits'>A New Chapter Begins ‚ú®</div>";
},2000);
}else{
document.body.innerHTML="<h1 style='margin-top:40vh'>Always Respect ‚ù§Ô∏è</h1>";
}
}

/* FIREWORKS */
function fireworks(){
for(let i=0;i<250;i++){
let f=document.createElement("div");
f.className="fire";
f.style.left="50%";
f.style.top="50%";
f.style.background="gold";
f.style.setProperty('--x',(Math.random()*1000-500)+"px");
f.style.setProperty('--y',(Math.random()*1000-500)+"px");
document.body.appendChild(f);
}
}

/* SPARK TRAIL */
document.addEventListener("mousemove",e=>{
let s=document.createElement("div");
s.className="spark";
s.style.left=e.clientX+"px";
s.style.top=e.clientY+"px";
document.body.appendChild(s);
setTimeout(()=>s.remove(),1000);
});
</script>

</body>
</html>
