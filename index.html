<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>For Jebiksha</title>
<script src="https://cdn.jsdelivr.net/npm/emailjs-com@3/dist/email.min.js"></script>

<style>
body{
  margin:0;
  overflow:hidden;
  background:radial-gradient(circle at center,#000,#111,#000);
  font-family:Georgia,serif;
  color:white;
}

/* Heartbeat background pulse */
@keyframes pulseBG{
  0%{background-color:#000;}
  50%{background-color:#120000;}
  100%{background-color:#000;}
}
body{
  animation:pulseBG 4s infinite;
}

/* Particle canvas */
canvas{
  position:fixed;
  top:0;
  left:0;
  z-index:-1;
}

/* Container */
.container{
  width:90%;
  max-width:700px;
  margin:auto;
  margin-top:60px;
  text-align:center;
}

.page{
  display:none;
  animation:fadeIn 1.5s ease;
}

.page.active{
  display:block;
}

@keyframes fadeIn{
  from{opacity:0; transform:translateY(50px);}
  to{opacity:1; transform:translateY(0);}
}

h1{
  color:gold;
  text-shadow:0 0 20px gold;
}

button{
  padding:12px 30px;
  border:none;
  border-radius:30px;
  margin-top:25px;
  font-size:16px;
  cursor:pointer;
  transition:0.3s;
}

button:hover{
  transform:scale(1.1);
}

.next{
  background:gold;
  color:black;
}

.yes{
  background:gold;
  color:black;
}

.no{
  background:#444;
  color:white;
}

/* Countdown */
.countdown{
  font-size:50px;
  color:gold;
  animation:zoom 1s infinite alternate;
}

@keyframes zoom{
  from{transform:scale(1);}
  to{transform:scale(1.2);}
}

/* Ring popup */
.ringBox{
  position:fixed;
  bottom:-500px;
  left:50%;
  transform:translateX(-50%);
  background:black;
  padding:50px;
  border-radius:20px;
  box-shadow:0 0 60px gold;
  text-align:center;
  transition:1.5s;
}

.ringBox.show{
  bottom:100px;
}

.ring{
  font-size:80px;
  animation:spin 4s linear infinite;
}

@keyframes spin{
  from{transform:rotateY(0deg);}
  to{transform:rotateY(360deg);}
}

/* Fireworks */
.fire{
  position:absolute;
  width:6px;
  height:6px;
  border-radius:50%;
  animation:explode 1s linear forwards;
}

@keyframes explode{
  from{transform:translate(0,0);}
  to{transform:translate(var(--x),var(--y)); opacity:0;}
}

/* Signature */
.signature{
  font-size:40px;
  color:gold;
  opacity:0;
  animation:sign 4s forwards;
}

@keyframes sign{
  to{opacity:1;}
}

textarea{
  width:90%;
  padding:12px;
  border-radius:10px;
  border:none;
  margin-top:20px;
}
</style>
</head>

<body>

<canvas id="bg"></canvas>

<audio autoplay loop>
<source src="https://www.soundhelix.com/examples/mp3/SoundHelix-Song-1.mp3">
</audio>

<div class="container">

<!-- 15 STORY PAGES -->

<div class="page active">
<h1>Jebiksha</h1>
<p id="type1"></p>
<button class="next" onclick="nextPage()">Begin</button>
</div>

<div class="page"><h1>Chapter 1</h1><p>You walked in quietly.</p><button class="next" onclick="nextPage()">Next</button></div>
<div class="page"><h1>Chapter 2</h1><p>But your presence stayed.</p><button class="next" onclick="nextPage()">Next</button></div>
<div class="page"><h1>Chapter 3</h1><p>Your smile changed my day.</p><button class="next" onclick="nextPage()">Next</button></div>
<div class="page"><h1>Chapter 4</h1><p>I started noticing everything.</p><button class="next" onclick="nextPage()">Next</button></div>
<div class="page"><h1>Chapter 5</h1><p>Little moments became important.</p><button class="next" onclick="nextPage()">Next</button></div>
<div class="page"><h1>Chapter 6</h1><p>Feelings grew silently.</p><button class="next" onclick="nextPage()">Next</button></div>
<div class="page"><h1>Chapter 7</h1><p>I tried to ignore it.</p><button class="next" onclick="nextPage()">Next</button></div>
<div class="page"><h1>Chapter 8</h1><p>But my heart was louder.</p><button class="next" onclick="nextPage()">Next</button></div>

<div class="page">
<h1>Before I Ask...</h1>
<p>You can write something here first.</p>
<textarea id="herMessage"></textarea>
<button class="next" onclick="startCountdown()">Continue</button>
</div>

<div class="page" id="countPage">
<h1>Get Ready...</h1>
<div class="countdown" id="countdown">3</div>
</div>

</div>

<!-- Ring Proposal -->
<div class="ringBox" id="ringBox">
<div class="ring">üíéüíç</div>
<h1>Will You Be Mine?</h1>
<button class="yes" onclick="choose('YES ‚ù§Ô∏è')">Yes</button>
<button class="no" onclick="choose('NO üíî')">No</button>
</div>

<script>
emailjs.init("ZBpSMBnfdEQE_bwCn");

let current=0;
function nextPage(){
let pages=document.querySelectorAll(".page");
pages[current].classList.remove("active");
current++;
pages[current].classList.add("active");
}

/* Countdown */
function startCountdown(){
nextPage();
let count=3;
let cd=document.getElementById("countdown");
let interval=setInterval(()=>{
count--;
cd.innerHTML=count;
if(count==0){
clearInterval(interval);
document.getElementById("ringBox").classList.add("show");
}
},1000);
}

/* Final choice */
function choose(answer){
let msg=document.getElementById("herMessage").value;

emailjs.send("service_vi8o9j4","template_1uului7",{
message:"Answer: "+answer+" | Message: "+msg
});

if(answer.includes("YES")){
for(let i=0;i<150;i++){
let f=document.createElement("div");
f.className="fire";
f.style.left="50%";
f.style.top="50%";
f.style.background="hsl("+Math.random()*360+",100%,50%)";
f.style.setProperty('--x',(Math.random()*800-400)+"px");
f.style.setProperty('--y',(Math.random()*800-400)+"px");
document.body.appendChild(f);
}
document.body.innerHTML += "<div class='signature'>Forever Yours,<br>Mevin</div>";
}else{
alert("I respect your choice.");
}
}

/* Typing */
let text="Some people are temporary. You feel permanent.";
let i=0;
function typing(){
if(i<text.length){
document.getElementById("type1").innerHTML+=text.charAt(i);
i++;
setTimeout(typing,40);
}
}
typing();

/* Gold particle universe */
let canvas=document.getElementById("bg");
let ctx=canvas.getContext("2d");
canvas.width=window.innerWidth;
canvas.height=window.innerHeight;

let particles=[];
for(let i=0;i<200;i++){
particles.push({x:Math.random()*canvas.width,y:Math.random()*canvas.height,r:Math.random()*2});
}

function animate(){
ctx.clearRect(0,0,canvas.width,canvas.height);
ctx.fillStyle="gold";
particles.forEach(p=>{
ctx.beginPath();
ctx.arc(p.x,p.y,p.r,0,Math.PI*2);
ctx.fill();
p.y-=0.7;
if(p.y<0)p.y=canvas.height;
});
requestAnimationFrame(animate);
}
animate();
</script>

</body>
                                                                           </html>
